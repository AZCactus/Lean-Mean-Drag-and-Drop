lmdd.js:657: WARNING - Suspicious code. This code lacks side-effects. Is there a bug?
                            (status !== 'waitDragStart') ? killEvent() : false;
                                                                         ^^^^^

0 error(s), 1 warning(s)
var $jscomp={scope:{},owns:function(e,g){return Object.prototype.hasOwnProperty.call(e,g)}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,g,f){if(f.get||f.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[g]=f.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,g,f,p){if(g){f=$jscomp.global;e=e.split(".");for(p=0;p<e.length-1;p++){var q=e[p];q in f||(f[q]={});f=f[q]}e=e[e.length-1];p=f[e];g=g(p);g!=p&&null!=g&&$jscomp.defineProperty(f,e,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Object.assign",function(e){return e?e:function(e,f){for(var g=1;g<arguments.length;g++){var q=arguments[g];if(q)for(var r in q)$jscomp.owns(q,r)&&(e[r]=q[r])}return e}},"es6-impl","es3");
"function"!=typeof Object.assign&&(Object.assign=function(e){e=Object(e);for(var g=1;g<arguments.length;g++){var f=arguments[g];if(null!=f)for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(e[p]=f[p])}return e});"undefined"===typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);
var lmdd=function(){var e={containerClass:!1,fixedItemClass:!1,draggableItemClass:!1,handleClass:!1,regulateMouseOver:!1,mirrorMaxHeight:100,mirrorMaxWidth:300,revert:!1,dragstartTimeout:50,calcInterval:200,nativeScroll:!1,protectedProperties:"padding padding-top padding-bottom padding-right padding-left display list-style-type line-height".split(" "),matchObject:!1},g=function(a){if(!(1<a.touches.length)){var d=new MouseEvent("touchstart"===a.type?"mousedown":"touchend"===a.type?"mouseup":"mousemove",
{view:window,bubbles:!0,cancelable:!0,screenX:a.touches[0]?a.touches[0].screenX:0,screenY:a.touches[0]?a.touches[0].screenY:0,clientX:a.touches[0]?a.touches[0].clientX:0,clientY:a.touches[0]?a.touches[0].clientY:0,button:0,buttons:1}),c="touchmove"===a.type?document.elementFromPoint(d.clientX,d.clientY)||document.body:a.target;"dragStart"===f&&a.preventDefault();c.dispatchEvent(d)}},f="waitDragStart",p=new function(){var a=!1,d=!1,c=!1,b=!1,e=!1,f=!1,h,g,k,p,q,n,t,l,m,r,u,w,v,x,y=function(a){if(document.body.contains(a)){var d=
!1,c=!1,b=window.getComputedStyle(a,null);a.offsetWidth>a.clientWidth&&0<a.clientWidth&&(d=parseInt(b.getPropertyValue("border-right-width"),10)+parseInt(b.getPropertyValue("border-left-width"),10),d=a.offsetWidth>a.clientWidth+d);a.offsetHeight>a.clientHeight&&0<a.clientHeight&&(c=parseInt(b.getPropertyValue("border-right-height"),10)+parseInt(b.getPropertyValue("border-left-height"),10),c=a.offsetHeight>a.clientHeight+c);return d||c?a:y(a.parentNode)}return document.documentElement},z=function(){g=
c.scrollHeight;k=c.clientHeight;p=d?c.offsetHeight:window.innerHeight;q=c.scrollWidth;n=c.clientWidth;t=d?c.offsetWidth:window.innerWidth;l=d?c.scrollTop:window.pageYOffset;m=d?c.scrollLeft:window.pageXOffset;w=20;v=g-k;x=q-n;b=Math.max(w-u,w-r,u+w-n,r+w-k)},A=function(){clearTimeout(h);e=!1;if(a)return!1;0<m&&u<=w&&(e=!0,d?c.scrollLeft-=b:window.scrollTo(m-b,l));q>t&&m<x&&u+w>=n&&(e=!0,d?c.scrollLeft+=b:window.scrollTo(m+b,l));0<l&&r<=w&&(e=!0,d?c.scrollTop-=b:window.scrollTo(m,l-b));g>p&&l<v&&r+
w>=k&&(e=!0,d?c.scrollTop+=b:window.scrollTo(m,l+b));e&&(z(),h=setTimeout(A,16))};return{update:function(b){c=y(b.target);f=c.getBoundingClientRect();d=c!==document.documentElement;a=!1;r=d?b.clientY-f.top:b.clientY;u=d?b.clientX-f.left:b.clientX;z();A()},kill:function(){a=!0}}},q=null,r={lastX:window.pageXOffset,lastY:window.pageYOffset,get deltaX(){return window.pageXOffset-this.lastX},get deltaY(){return window.pageYOffset-this.lastY}},E=0,F=0,b={},h=!1,n=!1,k=!1,t=null,L=null,X=[],M=!1,y=!1,A=
!1,l=!1,G=!1,N=!1,z=!1,O=!1,m={executeTask:function(a){m[a].forEach(function(a){a()});m[a]=[]},onDragEnd:[],onDragEndGC:[],onNextAppend:[],onTransitionEnd:[]},Q=function(){G=l;M!==t.target&&(M=t.target,l=P(t.target,"lmdd-container"))},B=function(){N=l?R(l):R(y)},S=function(){O=z;if(l){var a;a=N;var d=t.clientY,c=a.length;if(0===c)a=null;else{for(var b=0,e=0,f=-1;b<=c;b++)if(b===c){b--;break}else if(a[b].bottom>d){b--;break}for(;e<=c&&e!==c&&!(a[e].top>d);e++);for(d=b+1;d<=e;d++)if(d===e){f=d;break}else if(a[d].left>
t.clientX){f=d;break}a=f===c?a[f-1].index+1:a[f].index}z=a}else z=!1},I=function(){var a;if(a=l){var d=l;a=h;a.contains(d)||d.classList.contains("lmdd-dispatcher")?a=!1:b.lmddOptions.matchObject?(d=d.dataset.containerType||!1,a=a.dataset.itemType||!1,a=d?a?b.lmddOptions.matchObject[d][a]:b.lmddOptions.matchObject[d]["default"]:b.lmddOptions.matchObject["default"]):a=!0}a?(l.insertBefore(h,l.childNodes[z]),m.executeTask("onNextAppend")):b.lmddOptions.revert&&y.insertBefore(h,A);B();H(b);X.push("move")},
u=function(a,d,c,b){c?a.classList.add(d):a.classList.remove(d);b&&m[b].push(function(){c?a.classList.remove(d):a.classList.add(d)})},J=function(a,d,c,b,e){a.addEventListener(d,c,b);m[e].push(function(){a.removeEventListener(d,c,b)})},T=function(a){for(var d=0;d<a.childNodes.length;d++){var c=a.childNodes[d];8===c.nodeType||3===c.nodeType&&!/\S/.test(c.nodeValue)?(a.removeChild(c),d--):1===c.nodeType&&T(c)}},C=function(a,d){var c=a.getBoundingClientRect(),b=d.getBoundingClientRect(),e=parseInt(window.getComputedStyle(d,
null).getPropertyValue("border-left-width"),10),f=parseInt(window.getComputedStyle(d,null).getPropertyValue("border-top-width"),10);return{x:c.left-b.left-e,y:c.top-b.top-f}},P=function(a,d){for(var c=[],e=!1;a&&a!==document;a=a.parentNode)c.unshift(a),a.classList.contains(d)&&!e&&(e=a);return-1<c.indexOf(b)?e:!1},U=function(a){delete a.cloneRef;delete a.original;a.childNodes.forEach(function(a){U(a)})},H=function(a){1===a.nodeType&&(Y(a),!a.classList.contains("lmdd-container")&&a!==b||a===h||(a.cloneRef.style.display=
"block",a.cloneRef.style.padding=0,a.childNodes.forEach(function(a){H(a)})))},Y=function(a){var d=a.cloneRef,c=a.getBoundingClientRect();d.style.position="absolute";d.style.width=c.width+"px";d.style.height=c.height+"px";d.style.margin=0;a===b?(d.style.top=c.top+window.pageYOffset+"px",d.style.left=c.left+window.pageXOffset+"px"):(a=a===h?C(a,b):C(a,a.parentNode),d.style.transform="translate3d("+a.x+"px, "+a.y+"px,0px)")},R=function(a){var d=[];a.childNodes.forEach(function(a,b){if(1===a.nodeType){var c=
a.getBoundingClientRect();c.index=b;a.classList.contains("fixed")||d.push(c)}});return d},Z=function(){n=h.cloneRef;for(var a=window.getComputedStyle?window.getComputedStyle(h,null):h.currentStyle,d=0;d<b.lmddOptions.protectedProperties.length;d++)n.style[b.lmddOptions.protectedProperties[d]]=a[b.lmddOptions.protectedProperties[d]];n.classList.add("lmdd-dragged");n.classList.remove("lmdd-hidden");b.cloneRef.appendChild(n)},K=function(){k&&(k.style.top=t.pageY-parseInt(k.parentNode.style.top,10)+r.deltaY-
F+"px",k.style.left=t.pageX-parseInt(k.parentNode.style.left,10)+r.deltaX-E+"px")},aa=function(){k=n.cloneNode(!0);k.classList.add("lmdd-mirror");k.classList.remove("lmdd-dragged");k.style.width=n.getBoundingClientRect().width+"px";k.style.height=n.getBoundingClientRect().height+"px";var a=500/n.getBoundingClientRect().width,d=100/n.getBoundingClientRect().height,a=Math.min(1,Math.max(a,d));E*=a;F*=a;k.style.transform="scale("+a+","+a+")";k.style.transformOrigin="0 0";b.cloneRef.appendChild(k);K()},
ba=function(a,d){var c=[],b=[],e=function(a,c){c.push(a);a.childNodes.forEach(function(a){e(a,c)})};e(a,c);e(d,b);for(var f=0;f<c.length;f++)c[f].cloneRef=b[f],c[f].original=!0},D=function(a){a.preventDefault();a.stopPropagation();return!1},ca=function(){var a=b.cloneNode(!0);a.id+="-lmddClone";ba(b,a);b.parentNode.appendChild(b.cloneRef);m.onDragEnd.push(function(){b.parentNode.removeChild(b.cloneRef);U(b)})},V=function(a){var b=a.getElementsByClassName(a.lmddOptions.containerClass);a.classList.contains(a.lmddOptions.containerClass)&&
a.classList.add("lmdd-container");for(var c=0;c<b.length;c++)b[c].classList.add("lmdd-container");a=a.getElementsByClassName(a.lmddOptions.draggableItemClass);for(c=0;c<a.length;c++)a[c].classList.add("lmdd-draggable")},W=function(a){var b=a.getElementsByClassName(a.lmddOptions.containerClass);a.classList.remove("lmdd-container");for(var c=0;c<b.length;c++)b[c].classList.remove("lmdd-container");a=a.getElementsByClassName(a.lmddOptions.draggableItemClass);for(c=0;c<a.length;c++)a[c].classList.remove("lmdd-draggable")},
v=function(){p.kill();clearInterval(q);q=null;b.check&&(u(b.cloned,"no-display",!1,!1),b.check.parentNode&&b.check.parentNode.removeChild(b.check));m.executeTask("onDragEnd");var a=new CustomEvent("lmddend",{detail:{draggedElement:h,originalContainer:y,originalNextSibling:A,currentContainer:h.parentNode,currentNextSibling:h.nextSibling}});b&&b.dispatchEvent(a);console.log(a.detail);t=n=h=b=!1;f="waitDragStart"},da=function(){if(b){b.lmddOptions.nativeScroll||p.update(t);if(L===t)return!1;L=t;Q();
l?l!==G?(B(),S(),I()):(S(),z!==O&&I()):G&&b.lmddOptions.revert&&I()}},x=function(a){switch(f){case "waitDragStart":"mousedown"===a.type&&0===a.button&&(b=this,t=a,J(window,"mouseup",x,!1,"onDragEnd"),J(document,"mousemove",x,!1,"onDragEnd"),J(document,"scroll",x,!1,"onDragEnd"),f="dragStartTimeout",window.setTimeout(function(){if("dragStartTimeout"===f){if(b.lmddOptions.handleClass&&!a.target.classList.contains(b.lmddOptions.handleClass))v();else{var c=P(a.target,"lmdd-draggable");c?(b.lmddOptions.nativeScroll||
a.preventDefault(),c.classList.contains("lmdd-clonner")&&(b.cloned=c.parentNode.insertBefore(c.cloneNode(!0),c),b.check=c,c.classList.remove("lmdd-clonner"),u(b.cloned,"no-display",!0,"onNextAppend"),m.onNextAppend.push(function(){u(b.cloned.cloneRef,"no-display",!1);u(b.cloned.cloneRef,"no-transition",!0,"onDragEnd");y=h.parentNode;A=h.nextSibling;b.check=!1})),h=c,y=h.parentNode,A=h.nextSibling,Q(),B(),window.getSelection().removeAllRanges(),E=a.clientX-c.getBoundingClientRect().left,F=a.clientY-
c.getBoundingClientRect().top,u(document.body,"unselectable",!0,"onDragEnd"),u(h,"lmdd-hidden",!0,"onDragEnd"),r.lastX=window.pageXOffset,r.lastY=window.pageYOffset,ca(),Z(),H(b),aa(),u(b,"hidden-layer",!0,"onDragEnd"),u(b.cloneRef,"visible-layer",!0,!1),n.addEventListener("transitionend",x,!1),document.body.setCapture&&(document.body.setCapture(!1),m.onDragEnd.push(function(){document.releaseCapture()})),clearInterval(q),q=window.setInterval(da,b.lmddOptions.calcInterval)):v()}f="dragStart"}},b.lmddOptions.dragstartTimeout));
break;case "dragStartTimeout":v();break;case "dragStart":if("mousedown"===a.type||"mouseup"===a.type||"mousemove"===a.type&&0===a.buttons){k.classList.add("gf-transition");if(!h){v();break}var d=C(h,b);k.style.transform="scale(1,1)";k.style.top=d.y+"px";k.style.left=d.x+"px";k.style.width=h.getBoundingClientRect().width+"px";k.style.height=h.getBoundingClientRect().height+"px";d=C(h,n);0<Math.abs(d.x)+Math.abs(d.y)?(f="waitDragEnd",m.onTransitionEnd.push(function(){v()}),window.setTimeout(function(){"waitDragStart"!==
f?v():!1},1E3)):v();break}"mousemove"===a.type&&(t=a,r.lastX=window.pageXOffset,r.lastY=window.pageYOffset,K());"scroll"===a.type&&(K(),B());break;case "waitDragEnd":"transitionend"===a.type&&"transform"===a.propertyName&&m.executeTask("onTransitionEnd")}};return{set:function(a,b){a.lmdd||(T(a),a.lmdd=!0,a.lmddOptions=Object.assign({},e,b),V(a),a.addEventListener("mousedown",x,!1),document.addEventListener("drag",D,!1),document.addEventListener("dragstart",D,!1),window.addEventListener("touchstart",
g,{passive:!1}),window.addEventListener("touchmove",g,{passive:!1}),window.addEventListener("touchend",g,{passive:!1}))},refresh:function(a){a.lmdd&&(W(a),V(a))},unset:function(a){a.lmdd&&(W(a),a.removeEventListener("mousedown",x,!1),a.lmdd=!1,delete a.lmddOptions)},kill:function(){document.removeEventListener("drag",D,!1);document.removeEventListener("dragstart",D,!1)},getStatus:function(){return f}}}();
