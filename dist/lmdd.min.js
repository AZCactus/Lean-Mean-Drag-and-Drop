var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,d,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[d]=g.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var d=0;return $jscomp.iteratorPrototype(function(){return d<e.length?{done:!1,value:e[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(e,d){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var g=0,h={next:function(){if(g<e.length){var k=g++;return{value:d(k,e[k]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill=function(e,d,g,h){if(d){g=$jscomp.global;e=e.split(".");for(h=0;h<e.length-1;h++){var k=e[h];k in g||(g[k]={});g=g[k]}e=e[e.length-1];h=g[e];d=d(h);d!=h&&null!=d&&$jscomp.defineProperty(g,e,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6-impl","es3");
var lmdd=function(){var e={containerClass:!1,fixedItemClass:!1,draggableItemClass:!1,handleClass:!1,mirrorMinHeight:100,mirrorMaxWidth:500,revert:!1,dragstartTimeout:50,calcInterval:200,nativeScroll:!1,protectedProperties:"padding padding-top padding-bottom padding-right padding-left display list-style-type line-height".split(" "),matchObject:!1},d={dragged:null,shadow:null,mirror:null,set:function(a){T(b);this.dragged=a;this.shadow=this.dragged.cloneRef;a=window.getComputedStyle?window.getComputedStyle(this.dragged,
null):this.dragged.currentStyle;for(var c=0;c<b.lmddOptions.protectedProperties.length;c++)this.shadow.style[b.lmddOptions.protectedProperties[c]]=a[b.lmddOptions.protectedProperties[c]];this.mirror=this.shadow.cloneNode(!0);l(this.dragged,"lmdd-hidden",!0,"onDragEnd");this.shadow.classList.add("lmdd-shadow");this.mirror.classList.add("lmdd-mirror");w=d.dragged.parentNode;y=d.dragged.nextSibling;I();z();window.getSelection().removeAllRanges();l(document.body,"unselectable",!0,"onDragEnd");b.parentNode.appendChild(b.cloneRef);
p.onDragEnd.push(function(){b.parentNode.removeChild(b.cloneRef);J(b)});b.cloneRef.appendChild(this.shadow);D(b);this.mirror.style.width=this.shadow.getBoundingClientRect().width+"px";this.mirror.style.height=this.shadow.getBoundingClientRect().height+"px";a=b.lmddOptions.mirrorMaxWidth/this.shadow.getBoundingClientRect().width;c=b.lmddOptions.mirrorMinHeight/this.shadow.getBoundingClientRect().height;a=Math.min(1,Math.max(a,c));r.x*=a;r.y*=a;this.mirror.style.transform="scale("+a+","+a+")";this.mirror.style.transformOrigin=
"0 0";b.cloneRef.appendChild(this.mirror);t.lastX=window.pageXOffset;t.lastY=window.pageYOffset;E();l(b,"hidden-layer",!0,"onDragEnd");l(b.cloneRef,"visible-layer",!0,!1)},unset:function(){this.shadow=this.mirror=this.dragged=null},move:function(a){}},g=function(a,c){var f={};Object.keys(a).forEach(function(b){f[b]=Object.prototype.hasOwnProperty.call(c,b)?c[b]:a[b]});return f},h=function(a){if(!(1<a.touches.length)){var c=new MouseEvent("touchstart"===a.type?"mousedown":"touchend"===a.type?"mouseup":
"mousemove",{view:window,bubbles:!0,cancelable:!0,screenX:a.touches[0]?a.touches[0].screenX:0,screenY:a.touches[0]?a.touches[0].screenY:0,clientX:a.touches[0]?a.touches[0].clientX:0,clientY:a.touches[0]?a.touches[0].clientY:0,button:0,buttons:1}),f="touchmove"===a.type?document.elementFromPoint(c.clientX,c.clientY)||document.body:a.target;"dragStart"===k&&a.preventDefault();f.dispatchEvent(c)}},k="waitDragStart",K=function(){var a=!1,c=!1,f=!1,b=!1,d=!1,e=!1,k,h,g,m,p,n,r,l,q,t,u,v,w,x,y=function(a){if(document.body.contains(a)){var c=
!1,f=!1,b=window.getComputedStyle(a,null);a.offsetWidth>a.clientWidth&&0<a.clientWidth&&(c=parseInt(b.getPropertyValue("border-right-width"),10)+parseInt(b.getPropertyValue("border-left-width"),10),c=a.offsetWidth>a.clientWidth+c);a.offsetHeight>a.clientHeight&&0<a.clientHeight&&(f=parseInt(b.getPropertyValue("border-right-height"),10)+parseInt(b.getPropertyValue("border-left-height"),10),f=a.offsetHeight>a.clientHeight+f);return c||f?a:y(a.parentNode)}return document.documentElement},z=function(){h=
f.scrollHeight;g=f.clientHeight;m=c?f.offsetHeight:window.innerHeight;p=f.scrollWidth;n=f.clientWidth;r=c?f.offsetWidth:window.innerWidth;l=c?f.scrollTop:window.pageYOffset;q=c?f.scrollLeft:window.pageXOffset;v=20;w=h-g;x=p-n;b=Math.max(v-u,v-t,u+v-n,t+v-g)},A=function(){clearTimeout(k);d=!1;if(a)return!1;0<q&&u<=v&&(d=!0,c?f.scrollLeft-=b:window.scrollTo(q-b,l));p>r&&q<x&&u+v>=n&&(d=!0,c?f.scrollLeft+=b:window.scrollTo(q+b,l));0<l&&t<=v&&(d=!0,c?f.scrollTop-=b:window.scrollTo(q,l-b));h>m&&l<w&&t+
v>=g&&(d=!0,c?f.scrollTop+=b:window.scrollTo(q,l+b));d&&(z(),k=setTimeout(A,16))};return{update:function(b){f=y(b.target);e=f.getBoundingClientRect();c=f!==document.documentElement;a=!1;t=c?b.clientY-e.top:b.clientY;u=c?b.clientX-e.left:b.clientX;z();A()},kill:function(){a=!0}}}(),A=null,t={lastX:window.pageXOffset,lastY:window.pageYOffset,get deltaX(){return window.pageXOffset-this.lastX},get deltaY(){return window.pageYOffset-this.lastY}},r={x:0,y:0},b=null,m=null,L=null,M=!1,w=!1,y=!1,n=!1,F=!1,
N=!1,x=!1,O=!1,p={executeTask:function(a){p[a].forEach(function(a){a()});p[a]=[]},onDragEnd:[],onNextAppend:[],onTransitionEnd:[]},I=function(){F=n;M!==m.target&&(M=m.target,n=P(m.target,b.lmddOptions.containerClass))},z=function(){N=n?Q(n):Q(w)},R=function(){O=x;if(n){var a;a=N;var c=m.clientY,f=a.length;if(0===f)a=null;else{for(var b=0,d=0,e=-1;b<=f;b++)if(b===f){b--;break}else if(a[b].bottom>c){b--;break}for(;d<=f&&d!==f&&!(a[d].top>c);d++);for(c=b+1;c<=d;c++)if(c===d){e=c;break}else if(a[c].left>
m.clientX){e=c;break}a=e===f?a[e-1].index+1:a[e].index}x=a}else x=!1},G=function(){var a;if(a=n){var c=n;a=d.dragged;a.contains(c)||c.classList.contains("lmdd-dispatcher")?a=!1:b.lmddOptions.matchObject?(c=c.dataset.containerType||!1,a=a.dataset.itemType||!1,a=c?a?b.lmddOptions.matchObject[c][a]:b.lmddOptions.matchObject[c]["default"]:b.lmddOptions.matchObject["default"]):a=!0}a?(n.insertBefore(d.dragged,n.childNodes[x]),p.executeTask("onNextAppend")):b.lmddOptions.revert&&w.insertBefore(d.dragged,
y);z();D(b)},l=function(a,c,b,d){b?a.classList.add(c):a.classList.remove(c);d&&p[d].push(function(){b?a.classList.remove(c):a.classList.add(c)})},H=function(a,c,b,d,e){a.addEventListener(c,b,d);p[e].push(function(){a.removeEventListener(c,b,d)})},S=function(a){for(var c=0;c<a.childNodes.length;c++){var b=a.childNodes[c];8===b.nodeType||3===b.nodeType&&!/\S/.test(b.nodeValue)?(a.removeChild(b),c--):1===b.nodeType&&S(b)}},B=function(a,b){var c=a.getBoundingClientRect(),d=b.getBoundingClientRect(),e=
parseInt(window.getComputedStyle(b,null).getPropertyValue("border-left-width"),10),g=parseInt(window.getComputedStyle(b,null).getPropertyValue("border-top-width"),10);return{x:c.left-d.left-e,y:c.top-d.top-g}},P=function(a,c){for(var d=[],e=!1;a&&a!==document;a=a.parentNode)d.unshift(a),a.classList.contains(c)&&!e&&(e=a);return-1<d.indexOf(b)?e:!1},J=function(a){delete a.cloneRef;Array.prototype.forEach.call(a.childNodes,function(a){J(a)})},D=function(a){1===a.nodeType&&(U(a),!a.classList.contains(b.lmddOptions.containerClass)&&
a!==b||a===d.dragged||(a.cloneRef.style.display="block",a.cloneRef.style.padding=0,Array.prototype.forEach.call(a.childNodes,function(a){D(a)})))},U=function(a){var c=a.cloneRef,e=a.getBoundingClientRect();c.style.position="absolute";c.style.width=e.width+"px";c.style.height=e.height+"px";c.style.margin=0;a===b?(c.style.top=e.top+window.pageYOffset+"px",c.style.left=e.left+window.pageXOffset+"px"):(a=a===d.dragged?B(a,b):B(a,a.parentNode),c.style.transform="translate3d("+a.x+"px, "+a.y+"px,0px)")},
Q=function(a){var b=[];Array.prototype.forEach.call(a.childNodes,function(a,c){if(1===a.nodeType){var d=a.getBoundingClientRect();d.index=c;a.classList.contains("fixed")||b.push(d)}});return b},E=function(){d.mirror&&(d.mirror.style.top=m.pageY-parseInt(d.mirror.parentNode.style.top,10)+t.deltaY-r.y+"px",d.mirror.style.left=m.pageX-parseInt(d.mirror.parentNode.style.left,10)+t.deltaX-r.x+"px")},T=function(a){var b=a.cloneNode(!0);b.id+="-lmddClone";var d=[],e=[],g=function(a,b){b.push(a);Array.prototype.forEach.call(a.childNodes,
function(a){g(a,b)})};g(a,d);g(b,e);for(a=0;a<d.length;a++)d[a].cloneRef=e[a]},C=function(a){a.preventDefault();a.stopPropagation();return!1},q=function(){K.kill();clearInterval(A);A=null;b.check&&(l(b.cloned,"no-display",!1,!1),b.check.parentNode&&b.check.parentNode.removeChild(b.check));p.executeTask("onDragEnd");if("dragStartTimeout"!==k){var a=new CustomEvent("lmddend",{detail:{draggedElement:d.dragged,originalContainer:w,originalNextSibling:y,currentContainer:d.dragged.parentNode,currentNextSibling:d.dragged.nextSibling}});
b.dispatchEvent(a);console.log(a.detail)}m=b=!1;k="waitDragStart"},V=function(){if(b){b.lmddOptions.nativeScroll||K.update(m);if(L===m)return console.log("this is what tick is for..."),!1;L=m;I();n?n!==F?(z(),R(),G()):(R(),x!==O&&G()):F&&b.lmddOptions.revert&&G()}},u=function(a){switch(k){case "waitDragStart":"mousedown"===a.type&&0===a.button&&(b=this,m=a,H(window,"mouseup",u,!1,"onDragEnd"),H(document,"mousemove",u,!1,"onDragEnd"),H(document,"scroll",u,!1,"onDragEnd"),k="dragStartTimeout",window.setTimeout(function(){if("dragStartTimeout"===
k)if(b.lmddOptions.handleClass&&!a.target.classList.contains(b.lmddOptions.handleClass))q();else{var c=P(a.target,b.lmddOptions.draggableItemClass);c?(b.lmddOptions.nativeScroll||a.preventDefault(),c.classList.contains("lmdd-clonner")&&(b.cloned=c.parentNode.insertBefore(c.cloneNode(!0),c),b.check=c,c.classList.remove("lmdd-clonner"),l(b.cloned,"no-display",!0,"onNextAppend"),p.onNextAppend.push(function(){l(b.cloned.cloneRef,"no-display",!1,!1);l(b.cloned.cloneRef,"no-transition",!0,"onDragEnd");
w=d.dragged.parentNode;y=d.dragged.nextSibling;b.check=!1})),r.x=a.clientX-c.getBoundingClientRect().left,r.y=a.clientY-c.getBoundingClientRect().top,console.log(r),d.set(c),d.shadow.addEventListener("transitionend",u,!1),document.body.setCapture&&(document.body.setCapture(!1),p.onDragEnd.push(function(){document.releaseCapture()})),clearInterval(A),A=window.setInterval(V,b.lmddOptions.calcInterval),k="dragStart"):q()}},b.lmddOptions.dragstartTimeout));break;case "dragStartTimeout":q();break;case "dragStart":if("mousedown"===
a.type||"mouseup"===a.type||"mousemove"===a.type&&0===a.buttons){d.mirror.classList.add("gf-transition");if(!d.dragged){q();break}var c=B(d.dragged,b);d.mirror.style.transform="scale(1,1)";d.mirror.style.top=c.y+"px";d.mirror.style.left=c.x+"px";d.mirror.style.width=d.dragged.getBoundingClientRect().width+"px";d.mirror.style.height=d.dragged.getBoundingClientRect().height+"px";c=B(d.dragged,d.shadow);0<Math.abs(c.x)+Math.abs(c.y)?(k="waitDragEnd",p.onTransitionEnd.push(function(){q()}),window.setTimeout(function(){"waitDragStart"!==
k&&q()},1E3)):q();break}"mousemove"===a.type&&(m=a,t.lastX=window.pageXOffset,t.lastY=window.pageYOffset,E());"scroll"===a.type&&(E(),z());break;case "waitDragEnd":"transitionend"===a.type&&"transform"===a.propertyName&&p.executeTask("onTransitionEnd")}};return{set:function(a,b){a.lmdd||(S(a),a.lmdd=!0,a.lmddOptions=g(e,b),console.log(a.lmddOptions),a.addEventListener("mousedown",u,!1),document.addEventListener("drag",C,!1),document.addEventListener("dragstart",C,!1),window.addEventListener("touchstart",
h),window.addEventListener("touchmove",h,{passive:!1}),window.addEventListener("touchend",h))},refresh:function(a){},unset:function(a){a.lmdd&&(a.removeEventListener("mousedown",u,!1),a.lmdd=!1,delete a.lmddOptions)},kill:function(){document.removeEventListener("drag",C,!1);document.removeEventListener("dragstart",C,!1)},getStatus:function(){return k}}}();
