lmdd.js:684: WARNING - Suspicious code. This code lacks side-effects. Is there a bug?
                            (status !== 'waitDragStart') ? killEvent() : false;
                                                                         ^^^^^

0 error(s), 1 warning(s)
var $jscomp={scope:{},owns:function(b,d){return Object.prototype.hasOwnProperty.call(b,d)}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[d]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,d,e,g){if(d){e=$jscomp.global;b=b.split(".");for(g=0;g<b.length-1;g++){var k=b[g];k in e||(e[k]={});e=e[k]}b=b[b.length-1];g=e[b];d=d(g);d!=g&&null!=d&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.assign",function(b){return b?b:function(b,e){for(var d=1;d<arguments.length;d++){var k=arguments[d];if(k)for(var r in k)$jscomp.owns(k,r)&&(b[r]=k[r])}return b}},"es6-impl","es3");
"function"!=typeof Object.assign&&(Object.assign=function(b){if(null==b)throw new TypeError("Cannot convert undefined or null to object");b=Object(b);for(var d=1;d<arguments.length;d++){var e=arguments[d];if(null!=e)for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&(b[g]=e[g])}return b});"undefined"===typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);
var simulateMouseEvent=function(b){var d="touchstart"===b.type?"mousedown":"touchend"===b.type?"mouseup":"mousemove";1<b.touches.length||(d="touchend"===b.type?new MouseEvent(d,{view:window,bubbles:!0,cancelable:!0,button:0,buttons:1}):new MouseEvent(d,{view:window,bubbles:!0,cancelable:!0,screenX:b.touches[0].screenX||0,screenY:b.touches[0].screenY||0,clientX:b.touches[0].clientX||0,clientY:b.touches[0].clientY||0,button:0,buttons:1}),"touchmove"===b.type?("dragStart"===lmdd.getStatus()&&b.preventDefault(),
document.elementFromPoint(d.clientX,d.clientY).dispatchEvent(d)):b.target.dispatchEvent(d))};window.addEventListener("touchstart",simulateMouseEvent,{passive:!1});window.addEventListener("touchmove",simulateMouseEvent,{passive:!1});window.addEventListener("touchend",simulateMouseEvent,{passive:!1});
var scrollControl=function(){var b=!1,d=!1,e=!1,g=!1,k=!1,r=!1,B,c,f,n,h,m,E,w,u,t,v,l,C,F,y=function(c){if(document.body.contains(c)){var b=!1,d=!1,e=window.getComputedStyle(c,null);c.offsetWidth>c.clientWidth&&0<c.clientWidth&&(b=parseInt(e.getPropertyValue("border-right-width"),10)+parseInt(e.getPropertyValue("border-left-width"),10),b=c.offsetWidth>c.clientWidth+b);c.offsetHeight>c.clientHeight&&0<c.clientHeight&&(d=parseInt(e.getPropertyValue("border-right-height"),10)+parseInt(e.getPropertyValue("border-left-height"),
10),d=c.offsetHeight>c.clientHeight+d);return b||d?c:y(c.parentNode)}return document.documentElement},G=function(){c=e.scrollHeight;f=e.clientHeight;n=d?e.offsetHeight:window.innerHeight;h=e.scrollWidth;m=e.clientWidth;E=d?e.offsetWidth:window.innerWidth;w=d?e.scrollTop:window.pageYOffset;u=d?e.scrollLeft:window.pageXOffset;l=20;C=c-f;F=h-m;g=Math.max(l-v,l-t,v+l-m,t+l-f)},p=function(){clearTimeout(B);k=!1;if(b)return!1;0<u&&v<=l&&(k=!0,d?e.scrollLeft-=g:window.scrollTo(u-g,w));h>E&&u<F&&v+l>=m&&
(k=!0,d?e.scrollLeft+=g:window.scrollTo(u+g,w));0<w&&t<=l&&(k=!0,d?e.scrollTop-=g:window.scrollTo(u,w-g));c>n&&w<C&&t+l>=f&&(k=!0,d?e.scrollTop+=g:window.scrollTo(u,w+g));k&&(G(),B=setTimeout(p,16))};return{update:function(c){e=y(c.target);r=e.getBoundingClientRect();d=e!==document.documentElement;b=!1;t=d?c.clientY-r.top:c.clientY;v=d?c.clientX-r.left:c.clientX;G();p()},kill:function(){b=!0}}},lmdd=function(){var b={containerClass:!1,fixedItemClass:!1,draggableItemClass:!1,handleClass:!1,regulateMouseOver:!1,
mirrorMaxHeight:100,mirrorMaxWidth:300,revert:!1,dragstartTimeout:50,calcInterval:200,nativeScroll:!1,protectedProperties:"padding padding-top padding-bottom padding-right padding-left display list-style-type line-height".split(" "),matchObject:!1},d="waitDragStart",e=new scrollControl,g=null,k={lastX:window.pageXOffset,lastY:window.pageYOffset,get deltaX(){return window.pageXOffset-this.lastX},get deltaY(){return window.pageYOffset-this.lastY}},r=0,B=0,c={},f=!1,n=!1,h=!1,m=null,E=null,w=[],u=!1,
t=!1,v=!1,l=!1,C=!1,F=!1,y=!1,G=!1,p={executeTask:function(a){p[a].forEach(function(a){a()});p[a]=[]},onDragEnd:[],onDragEndGC:[],onNextAppend:[],onTransitionEnd:[]},O=function(){C=l;u!==m.target&&(u=m.target,l=Q(m.target,"lmdd-container"))},H=function(){F=l?R(l):R(t)},P=function(){G=y;if(l){var a;a=F;var c=m.clientY,q=a.length;if(0===q)a=null;else{for(var b=0,d=0,e=-1;b<=q;b++)if(b===q){b--;break}else if(a[b].bottom>c){b--;break}for(;d<=q&&d!==q&&!(a[d].top>c);d++);for(c=b+1;c<=d;c++)if(c===d){e=
c;break}else if(a[c].left>m.clientX){e=c;break}a=e===q?a[e-1].index+1:a[e].index}y=a}else y=!1},K=function(){var a;if(a=l){var x=l;a=f;a.contains(x)||x.classList.contains("lmdd-dispatcher")?a=!1:c.lmddOptions.matchObject?(x=x.dataset.containerType||!1,a=a.dataset.itemType||!1,a=x?a?c.lmddOptions.matchObject[x][a]:c.lmddOptions.matchObject[x]["default"]:c.lmddOptions.matchObject["default"]):a=!0}a?(l.insertBefore(f,l.childNodes[y]),p.executeTask("onNextAppend")):c.lmddOptions.revert&&t.insertBefore(f,
v);H();L(c);w.push("move")},z=function(a,c,q,b){q?a.classList.add(c):a.classList.remove(c);b&&p[b].push(function(){q?a.classList.remove(c):a.classList.add(c)})},M=function(a,c,q,b,d){a.addEventListener(c,q,b);p[d].push(function(){a.removeEventListener(c,q,b)})},S=function(a){for(var c=0;c<a.childNodes.length;c++){var b=a.childNodes[c];8===b.nodeType||3===b.nodeType&&!/\S/.test(b.nodeValue)?(a.removeChild(b),c--):1===b.nodeType&&S(b)}},I=function(a,c){var b=a.getBoundingClientRect(),d=c.getBoundingClientRect(),
e=parseInt(window.getComputedStyle(c,null).getPropertyValue("border-left-width"),10),x=parseInt(window.getComputedStyle(c,null).getPropertyValue("border-top-width"),10);return{x:b.left-d.left-e,y:b.top-d.top-x}},Q=function(a,b){for(var d=[],e=!1;a&&a!==document;a=a.parentNode)d.unshift(a),a.classList.contains(b)&&!e&&(e=a);return-1<d.indexOf(c)?e:!1},T=function(a){delete a.cloneRef;delete a.original;a.childNodes.forEach(function(a){T(a)})},L=function(a){1===a.nodeType&&(W(a),!a.classList.contains("lmdd-container")&&
a!==c||a===f||(a.cloneRef.style.display="block",a.cloneRef.style.padding=0,a.childNodes.forEach(function(a){L(a)})))},W=function(a){var b=a.cloneRef,d=a.getBoundingClientRect();b.style.position="absolute";b.style.width=d.width+"px";b.style.height=d.height+"px";b.style.margin=0;a===c?(b.style.top=d.top+window.pageYOffset+"px",b.style.left=d.left+window.pageXOffset+"px"):(a=a===f?I(a,c):I(a,a.parentNode),b.style.transform="translate3d("+a.x+"px, "+a.y+"px,0px)")},R=function(a){var c=[];a.childNodes.forEach(function(a,
b){if(1===a.nodeType){var d=a.getBoundingClientRect();d.index=b;a.classList.contains("fixed")||c.push(d)}});return c},X=function(){n=f.cloneRef;for(var a=window.getComputedStyle?window.getComputedStyle(f,null):f.currentStyle,b=0;b<c.lmddOptions.protectedProperties.length;b++)n.style[c.lmddOptions.protectedProperties[b]]=a[c.lmddOptions.protectedProperties[b]];n.classList.add("lmdd-dragged");n.classList.remove("lmdd-hidden");c.cloneRef.appendChild(n)},N=function(){h&&(h.style.top=m.pageY-parseInt(h.parentNode.style.top,
10)+k.deltaY-B+"px",h.style.left=m.pageX-parseInt(h.parentNode.style.left,10)+k.deltaX-r+"px")},Y=function(){h=n.cloneNode(!0);h.classList.add("lmdd-mirror");h.classList.remove("lmdd-dragged");h.style.width=n.getBoundingClientRect().width+"px";h.style.height=n.getBoundingClientRect().height+"px";var a=500/n.getBoundingClientRect().width,b=100/n.getBoundingClientRect().height,a=Math.min(1,Math.max(a,b));r*=a;B*=a;h.style.transform="scale("+a+","+a+")";h.style.transformOrigin="0 0";c.cloneRef.appendChild(h);
N()},Z=function(a,c){var b=[],d=[],e=function(a,c){c.push(a);a.childNodes.forEach(function(a){e(a,c)})};e(a,b);e(c,d);for(var f=0;f<b.length;f++)b[f].cloneRef=d[f],b[f].original=!0},J=function(a){a.preventDefault();a.stopPropagation();return!1},aa=function(){var a=c.cloneNode(!0);a.id+="-lmddClone";Z(c,a);c.parentNode.appendChild(c.cloneRef);p.onDragEnd.push(function(){c.parentNode.removeChild(c.cloneRef);T(c)})},U=function(a){var c=a.getElementsByClassName(a.lmddOptions.containerClass);a.classList.contains(a.lmddOptions.containerClass)&&
a.classList.add("lmdd-container");for(var b=0;b<c.length;b++)c[b].classList.add("lmdd-container");a=a.getElementsByClassName(a.lmddOptions.draggableItemClass);for(b=0;b<a.length;b++)a[b].classList.add("lmdd-draggable")},V=function(a){var c=a.getElementsByClassName(a.lmddOptions.containerClass);a.classList.remove("lmdd-container");for(var b=0;b<c.length;b++)c[b].classList.remove("lmdd-container");a=a.getElementsByClassName(a.lmddOptions.draggableItemClass);for(b=0;b<a.length;b++)a[b].classList.remove("lmdd-draggable")},
A=function(){e.kill();clearInterval(g);g=null;c.check&&(z(c.cloned,"no-display",!1,!1),c.check.parentNode&&c.check.parentNode.removeChild(c.check));p.executeTask("onDragEnd");var a=new CustomEvent("lmddend",{detail:{draggedElement:f,originalContainer:t,originalNextSibling:v,currentContainer:f.parentNode,currentNextSibling:f.nextSibling}});c&&c.dispatchEvent(a);console.log(a.detail);m=n=f=c=!1;d="waitDragStart"},ba=function(){if(c){c.lmddOptions.nativeScroll||e.update(m);if(E===m)return!1;E=m;O();
l?l!==C?(H(),P(),K()):(P(),y!==G&&K()):C&&c.lmddOptions.revert&&K()}},D=function(a){switch(d){case "waitDragStart":"mousedown"===a.type&&0===a.button&&(c=this,m=a,M(window,"mouseup",D,!1,"onDragEnd"),M(document,"mousemove",D,!1,"onDragEnd"),M(document,"scroll",D,!1,"onDragEnd"),d="dragStartTimeout",window.setTimeout(function(){if("dragStartTimeout"===d){if(c.lmddOptions.handleClass&&!a.target.classList.contains(c.lmddOptions.handleClass))A();else{var b=Q(a.target,"lmdd-draggable");b?(c.lmddOptions.nativeScroll||
a.preventDefault(),b.classList.contains("lmdd-clonner")&&(c.cloned=b.parentNode.insertBefore(b.cloneNode(!0),b),c.check=b,b.classList.remove("lmdd-clonner"),z(c.cloned,"no-display",!0,"onNextAppend"),p.onNextAppend.push(function(){z(c.cloned.cloneRef,"no-display",!1);z(c.cloned.cloneRef,"no-transition",!0,"onDragEnd");t=f.parentNode;v=f.nextSibling;c.check=!1})),f=b,t=f.parentNode,v=f.nextSibling,O(),H(),window.getSelection().removeAllRanges(),r=a.clientX-b.getBoundingClientRect().left,B=a.clientY-
b.getBoundingClientRect().top,z(document.body,"unselectable",!0,"onDragEnd"),z(f,"lmdd-hidden",!0,"onDragEnd"),k.lastX=window.pageXOffset,k.lastY=window.pageYOffset,aa(),X(),L(c),Y(),z(c,"hidden-layer",!0,"onDragEnd"),z(c.cloneRef,"visible-layer",!0,!1),n.addEventListener("transitionend",D,!1),document.body.setCapture&&(document.body.setCapture(!1),p.onDragEnd.push(function(){document.releaseCapture()})),clearInterval(g),g=window.setInterval(ba,c.lmddOptions.calcInterval)):A()}d="dragStart"}},c.lmddOptions.dragstartTimeout));
break;case "dragStartTimeout":A();break;case "dragStart":if("mousedown"===a.type||"mouseup"===a.type||"mousemove"===a.type&&0===a.buttons){h.classList.add("gf-transition");if(!f){A();break}var b=I(f,c);h.style.transform="scale(1,1)";h.style.top=b.y+"px";h.style.left=b.x+"px";h.style.width=f.getBoundingClientRect().width+"px";h.style.height=f.getBoundingClientRect().height+"px";b=I(f,n);0<Math.abs(b.x)+Math.abs(b.y)?(d="waitDragEnd",p.onTransitionEnd.push(function(){A()}),window.setTimeout(function(){"waitDragStart"!==
d?A():!1},1E3)):A();break}"mousemove"===a.type&&(m=a,k.lastX=window.pageXOffset,k.lastY=window.pageYOffset,N());"scroll"===a.type&&(N(),H());break;case "waitDragEnd":"transitionend"===a.type&&"transform"===a.propertyName&&p.executeTask("onTransitionEnd")}};return{set:function(a,c){a.lmdd||(S(a),a.lmdd=!0,a.lmddOptions=Object.assign({},b,c),U(a),a.addEventListener("mousedown",D,!1),document.addEventListener("drag",J,!1),document.addEventListener("dragstart",J,!1))},refresh:function(a){a.lmdd&&(V(a),
U(a))},unset:function(a){a.lmdd&&(V(a),a.removeEventListener("mousedown",D,!1),a.lmdd=!1,delete a.lmddOptions)},kill:function(){document.removeEventListener("drag",J,!1);document.removeEventListener("dragstart",J,!1)},getStatus:function(){return d}}}();
